#!/bin/bash
POSITIONAL=()
if [[ $# -eq 0 ]]; then
    HELP=YES
else    
while [[ $# -gt 0 ]]; do
    key="$1"

    case $key in
        -i|--input)
            INPUT="$2"
            shift
            shift
            ;;
        -o|--output)
            OUTPUT="$2"
            shift
            shift
            ;;
        -h|--help)
            HELP=YES
            shift
            shift
            ;;
        *)
            HELP=YES
            POSITIONAL+=("$1")
            shift
            ;;
    esac
done
fi
set -- "${POSITIONAL[@]}"

if [ "${HELP}" == "YES" ];then
    echo "Usage: bruteForceCrawler [OPTIONS]"
    echo " "
    echo "Mandatory arguments:"
    echo " "
    echo "-i, --input=INPUT    set input file"
    echo "-o, --output=OUTPUT  set output file"
    echo ""
    echo "Optional arguments:"
    echo ""
    echo "-h, --help=HELP      display this help message"
fi

if [[ -f "${INPUT}" && ! -f "${OUTPUT}" ]]; then
    filein="${INPUT}"
    fileout="${OUTPUT}"
    echo "Did what needed to be done"
else
    if [[ ! -f "${INPUT}" && -f "${OUTPUT}" ]]; then
           echo "Both the input- and output arguments are missing or invalid. Run program with arguments -i <inputfile> -o <outputfilename>."
    else
        if [ -f "${OUTPUT}" ]; then
            echo "Output filename is missing or a file with the given name already exists. Modify/add argument -o <outputfilename>."
        else
            echo "The input file is missing or is invalid. Add argument -i <inputfile>."
        fi
    fi 
fi

